@defer(when this.location.lat !== predefinedLat) {
  <google-map
      id="map"
      width="100%"
      height="100%"
      [mapId]="mapId"
      [center]="location"
      [options]="mapOptions">
      @for (m of properties; track m.NOM_PARADA) {
        <map-advanced-marker
          #marker="mapAdvancedMarker"
          [content] = pinSvg
          [position]="m.posicio"
          (mapClick)="openInfoWindow(marker, infoWindow, m.CODI_PARADA, m.NOM_PARADA, m.linies)" >
        </map-advanced-marker>
      }
      <map-info-window
        #infoWindow="mapInfoWindow">
        <div class="icon"><ion-icon [src]="BusStop"></ion-icon></div>
        <!--
        <a [routerLink]="['/private/stop', m.CODI_PARADA]">
          <h5>{{m.NOM_PARADA}}</h5>
          <div>Parada n√∫m {{m.CODI_PARADA}}</div>
          @for (line of m.linies; track line) {
            <ion-badge>{{line}}</ion-badge>
          }
        </a>
        -->
      </map-info-window>
  </google-map>
  <!--
          [content]="pinSVG"
  -->
} @placeholder {

  <div class="ion-spinner-container">waiting for location...
    <ion-spinner class="ion-spinner"></ion-spinner>
  </div>

}
<main class="main">
    <div class="content">
        <form class="grid-container" (ngSubmit)="register()" [formGroup]="credentials">
            <ion-card color="secondary">
                <ion-card-header>
                  <ion-card-title>Registrarse</ion-card-title>
                </ion-card-header>
                <ion-card-content>
                    <ion-list>
                        <ion-item-group formGroupName="emailGroup">
                            <ion-item>
                                <ion-input type="email" formControlName="email" label="E-Mail" fill="outline"
                                    errorText="email no es válido" autocomplete="email" appAutofill [readonly]="wait">
                                </ion-input>
                            </ion-item>
                            <ion-item>
                                <ion-input type="email" formControlName="emailAgain" label="Repetir e-Mail" fill="outline"
                                    helperText="Debe introducir de nuevo el email"
                                    errorText="email no es válido" autocomplete="email" appAutofill [readonly]="wait">
                                </ion-input>
                            </ion-item>
                            <ion-item color="danger" [hidden]="emailGroupOk">
                                <span><small>Los emails son diferentes</small></span>
                            </ion-item>
                        </ion-item-group>
                        <ion-item-group formGroupName="passwordGroup">
                            <ion-item-divider></ion-item-divider>
                            <ion-item>
                                <ion-input type="password" formControlName="password" label="Contraseña" fill="outline"
                                    helperText="La contraseña debe tener mayúsculas, minúsculas, números y símbolos; puede servir una frase con un dígito."
                                    errorText="la contraseña no es válida." autocomplete="new-password" appAutofill [readonly]="wait">
                                  <ion-input-password-toggle slot="end"></ion-input-password-toggle>
                                </ion-input>
                            </ion-item>
                            <ion-item>
                                <ion-input type="password" formControlName="passwordAgain" label="Repetir contraseña" fill="outline"
                                    helperText="Debe introducir de nuevo la contraseña."
                                    errorText="la contraseña no es válida." autocomplete="new-password" appAutofill [readonly]="wait">
                                  <ion-input-password-toggle slot="end"></ion-input-password-toggle>
                                </ion-input>
                            </ion-item>
                            <ion-item color="danger" [hidden]="passwordGroupOk">
                                <span><small>Las contraseñas son diferentes</small></span>
                            </ion-item>
                        </ion-item-group>
                    </ion-list>
                </ion-card-content>
                <ion-button fill="clear" type="submit" [disabled]="!credentials.valid || wait">Registrarse</ion-button>
                <ion-button fill="clear" href="login">Acceder</ion-button>
                <ion-item>
                    <small><a [href]="'recovery'" color="primary">¿Contraseña olvidada?</a></small>
                    <div slot="end">
                        <small>Para acceder a los servicios es necesario registrarse.
                            Puede consultar los <a href="" (click)="obrirCondicions()" color="secondary">términos</a>
                            que accepta por el uso del servicio.</small>
                        </div>
                </ion-item>
            </ion-card>
        </form>
    </div>
</main>

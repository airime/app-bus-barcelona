<app-menu
  loggedIn="true"
  userValidated="true"
  [displayNameDefined]="displayNameDefined"
  pageId="map">
</app-menu>

<main class="ion-page" id="main-content">

  <ion-content [fullscreen]="true">
    <ion-list>
      <ion-item [button]="true" (click)="goBack()">
        <ion-icon slot="start" name="arrow-back-outline"></ion-icon>
        <ion-label>Tornar al mapa</ion-label>
      </ion-item>
      <ion-item [button]="true" (click)="getStop()">
        <ion-label>
          @if (currentLine >= 0) {
            <ion-badge [style]="cssBadgeLinia">{{nomLinia}}</ion-badge>&nbsp;
          }
          Parada n√∫mero {{currentStop}}
        </ion-label>
        <ion-note color="secondary" slot="end">Actualitzar</ion-note>
      </ion-item>
      <ion-item>
      </ion-item>
      @for (bus of buses; track bus.destination) {
        <ion-item>
          @if (isIiBusStop(bus)) {
            <ion-badge slot="start">{{bus.line}}</ion-badge>
          }
          <ion-label>{{bus.destination}}</ion-label>
          <ion-note color="primary" slot="end">{{bus['text-ca']}}</ion-note>
        </ion-item>
      }
    </ion-list>

  </ion-content>

</main>

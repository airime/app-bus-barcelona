<google-map
id="map"
width="100%"
height="100%"
[mapId]="mapId"
[center]="location"
[options]="options">
@for (m of properties; track m.NOM_PARADA) {
  <map-advanced-marker
    #marker="mapAdvancedMarker"
    [position]="m.posicio"
    (mapClick)="openInfoWindow(marker, infoWindow, m)" >
  </map-advanced-marker>
  <map-info-window
    #infoWindow="mapInfoWindow">
    <a  [routerLink]="['/stop', m.CODI_PARADA]">
      <h5>{{m.NOM_PARADA}}</h5>
      <div>Parada n√∫m {{m.CODI_PARADA}}</div>
      @for (line of m.linies; track line) {
        <ion-badge>{{line}}</ion-badge>
      }
    </a>
  </map-info-window>
}
</google-map>
